@import 'tailwindcss';
@import "tw-animate-css";
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

/* Keep your existing departureMono font as fallback */
@font-face{
  font-family: "departureMono";
  src: url('./assets/fonts/DepartureMono-Regular.woff')
}

/* Modified chat edge throb effect with magenta color */
@keyframes chat-edge-throb {
  0%, 100% {
    box-shadow:
      0 0 0 0 rgba(186, 85, 211, 0.15),
      inset 0 0 0 1px rgba(186, 85, 211, 0.20);
  }
  50% {
    box-shadow:
      0 0 0 8px rgba(147, 51, 234, 0.10),
      inset 0 0 0 2px rgba(147, 51, 234, 0.25);
  }
}

.chat-edge-throb {
  animation: chat-edge-throb 1.8s ease-in-out infinite;
  border-radius: 0.75rem;
}

@media (prefers-reduced-motion: reduce) {
  .chat-edge-throb { animation: none; }
}

@custom-variant dark (&:is(.dark *));
@plugin '@tailwindcss/typography';

@theme inline {
  /* Keep all the existing theme variables */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-accent: var(--build-accent-color);
  --color-destructive: var(--destructive);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --shadow-textarea:
    6px 6px 13px 0px rgba(147, 51, 234, 0.04),
    24px 24px 24px 0px rgba(147, 51, 234, 0.03),
    53px 53px 32px 0px rgba(147, 51, 234, 0.02),
    0px 0px 0px 1px rgba(186, 85, 211, 0.15);
  --color-bg-1: var(--build-chat-colors-bg-1);
  --color-bg-2: var(--build-chat-colors-bg-2);
  --color-bg-3: var(--build-chat-colors-bg-3);
  --color-bg-4: var(--build-chat-colors-bg-4);
  --color-border-primary: var(--build-chat-colors-border-primary);
  --color-border-secondary: var(--build-chat-colors-border-secondary);
  --color-border-tertiary: var(--build-chat-colors-border-tertiary);
  --color-danger: var(--build-chat-colors-danger);
  --color-brand-heavy: var(--build-chat-colors-brand-heavy);
  --color-brand-primary: var(--build-chat-colors-brand-primary);
  --color-brand-subtle: var(--build-chat-colors-brand-subtle);
  --color-text-inverted: var(--build-chat-colors-text-inverted);
  --color-text-primary: var(--build-chat-colors-text-primary);
  --color-text-secondary: var(--build-chat-colors-text-secondary);
  --color-text-tertiary: var(--build-chat-colors-text-tertiary);
  --animate-typing-dot: typing-dot 1.2s ease-in-out infinite;
  --animate-shake: shake 1s ease-in-out;
}

:root {
  --radius: 0.625rem;
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  
  /* Soothing Magenta & Sea Green Theme Colors */
  --build-accent-color: #9333ea; /* Rich purple-magenta */
  
  /* Light mode backgrounds with subtle magenta tint */
  --build-chat-colors-bg-1: #f9f5fb; /* Lightest magenta tint */
  --build-chat-colors-bg-2: #fdfcfe; /* Very light */
  --build-chat-colors-bg-3: #ffffff; /* Pure white with gradient overlay */
  --build-chat-colors-bg-4: #ffffff; /* Pure white */
  
  /* Soft magenta borders */
  --build-chat-colors-border-primary: #f3e8fb;
  --build-chat-colors-border-secondary: #f5f0fa;
  --build-chat-colors-border-tertiary: #f8f5fb;
  
  --build-chat-colors-danger: #dc2626cc;
  
  /* Magenta brand colors with sea green accents */
  --build-chat-colors-brand-heavy: #7c3aed; /* Deep purple-magenta */
  --build-chat-colors-brand-primary: #9333ea; /* Primary magenta */
  --build-chat-colors-brand-subtle: #a855f7; /* Soft magenta */
  
  --build-chat-colors-text-inverted: #ffffff;
  --build-chat-colors-text-primary: #2e1065; /* Deep purple text */
  --build-chat-colors-text-secondary: #4c1d95; /* Medium purple text */
  --build-chat-colors-text-tertiary: #6b21a899; /* Light purple text */
  
  /* Sea green accent variables */
  --sea-green-accent: #34d399;
  --sea-green-light: #6ee7b7;
  --sea-green-dark: #10b981;
}

.dark {
  --destructive: #ef4444;
  --border: #2a1a3d; /* Deep purple border */
  --input: #0a0a0a; /* Pitch black input */
  
  /* Pitch black backgrounds with subtle purple undertones */
  --build-chat-colors-bg-1: #000000; /* Pitch black */
  --build-chat-colors-bg-2: #050505; /* Near black */
  --build-chat-colors-bg-3: #0a0a0a; /* Very dark */
  --build-chat-colors-bg-4: #0f0f0f; /* Slightly lighter black */
  
  /* Dark purple borders */
  --build-chat-colors-border-primary: #1a0f2e;
  --build-chat-colors-border-secondary: #2a1a3d;
  --build-chat-colors-border-tertiary: #2a1a3d;
  
  /* Vibrant magenta for dark mode */
  --build-chat-colors-brand-heavy: #c084fc; /* Bright lavender */
  --build-chat-colors-brand-primary: #a855f7; /* Bright magenta */
  --build-chat-colors-brand-subtle: #9333ea; /* Medium magenta */
  
  --build-chat-colors-text-inverted: #000000;
  --build-chat-colors-text-primary: #faf5ff; /* Light purple-white */
  --build-chat-colors-text-secondary: #e9d5ff; /* Light lavender */
  --build-chat-colors-text-tertiary: #c084fc99; /* Muted lavender */
  
  /* Sea green accents for dark mode */
  --sea-green-accent: #10b981;
  --sea-green-light: #34d399;
  --sea-green-dark: #059669;
  
  --shadow-dialog:
    0px 18px 60px 0px rgba(147, 51, 234, 0.15),
    3px 3px 13px 0px rgba(147, 51, 234, 0.08),
    -3px 3px 13px 0px rgba(147, 51, 234, 0.08),
    24px 24px 24px 0px rgba(0, 0, 0, 0.05),
    -24px 24px 24px 0px rgba(0, 0, 0, 0.05),
    53px 53px 32px 0px rgba(0, 0, 0, 0.03),
    0px 0px 0px 1px rgba(147, 51, 234, 0.2);
  --shadow-elevation:
    6px 6px 13px 0px rgba(147, 51, 234, 0.25),
    24px 24px 24px 0px rgba(0, 0, 0, 0.20),
    53px 53px 32px 0px rgba(0, 0, 0, 0.15),
    0px 0px 0px 1px rgba(147, 51, 234, 0.15);
}

@layer base {
  * {
    @apply border-border-primary outline-ring/50;
  }
  
  body {
    @apply text-text-primary h-full;
    /* Beautiful gradient background */
    background: linear-gradient(135deg, 
      rgba(147, 51, 234, 0.03) 0%,
      rgba(52, 211, 153, 0.02) 50%,
      rgba(168, 85, 247, 0.03) 100%);
    /* Set Inter as primary font with fallbacks */
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
    position: relative;
    min-height: 100vh;
  }
  
  /* Dotted pattern overlay */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.06;
    background-image: radial-gradient(circle, #9333ea 1px, transparent 1px);
    background-size: 20px 20px;
    pointer-events: none;
    z-index: 1;
  }
  
  /* Additional gradient overlay for depth */
  body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(ellipse at top right, 
      rgba(52, 211, 153, 0.05) 0%,
      transparent 50%),
      radial-gradient(ellipse at bottom left, 
      rgba(147, 51, 234, 0.05) 0%,
      transparent 50%);
    pointer-events: none;
    z-index: 0;
  }
  
  /* Dark mode specific body styling */
  .dark body {
    background: linear-gradient(135deg, 
      rgba(147, 51, 234, 0.02) 0%,
      rgba(52, 211, 153, 0.01) 50%,
      rgba(168, 85, 247, 0.02) 100%),
      #000000; /* Pitch black base */
  }
  
  /* Dark mode dotted pattern - more subtle */
  .dark body::before {
    opacity: 0.03;
    background-image: radial-gradient(circle, #a855f7 0.5px, transparent 0.5px);
    background-size: 25px 25px;
  }
  
  /* Dark mode gradient overlay */
  .dark body::after {
    background: radial-gradient(ellipse at top right, 
      rgba(52, 211, 153, 0.02) 0%,
      transparent 60%),
      radial-gradient(ellipse at bottom left, 
      rgba(147, 51, 234, 0.03) 0%,
      transparent 60%);
  }
  
  /* Ensure content appears above background layers */
  #root, main, .app {
    position: relative;
    z-index: 2;
  }
  
  button {
    @apply cursor-pointer;
    transition: all 0.2s ease;
  }
  
  /* Add hover effect with sea green accent */
  button:hover {
    filter: brightness(1.05);
  }
  
  select {
    @apply cursor-pointer;
  }
  
  /* Use departureMono for code blocks */
  code, pre {
    font-family: 'departureMono', 'Courier New', monospace;
  }
  
  /* Scrollbar styling to match theme */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  
  ::-webkit-scrollbar-track {
    background: rgba(147, 51, 234, 0.05);
  }
  
  ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #9333ea, #34d399);
    border-radius: 5px;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #a855f7, #6ee7b7);
  }
  
  /* Dark mode scrollbar */
  .dark ::-webkit-scrollbar-track {
    background: rgba(147, 51, 234, 0.1);
  }
  
  .dark ::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #a855f7, #10b981);
  }
  
  /* Selection color */
  ::selection {
    background-color: rgba(147, 51, 234, 0.2);
    color: var(--build-chat-colors-text-primary);
  }
  
  .dark ::selection {
    background-color: rgba(168, 85, 247, 0.3);
  }
}
